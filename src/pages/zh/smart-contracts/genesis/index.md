---
title: 概述
metaTitle: Genesis - 概述
description: 用于通过预售和发行池在Solana上发行代币的智能合约。
---

Genesis是Metaplex智能合约，为Solana区块链上的**代币生成事件（TGE）**提供灵活的框架。无论您是通过预售发行新代币还是构建自定义代币分发系统，Genesis都提供链上基础设施来实现这一切。

## 使用Genesis可以构建什么？

Genesis支持多种发行机制，可以组合创建自定义代币发行体验：

| 机制 | 描述 | 优势 |
|-----------|-------------|----------|
| **预售** | 固定价格代币销售 | 固定价格降低了复杂性和投机。先到先得的动态鼓励早期参与。通过准确的需求预测获得更可预测的结果。如果需要可以实施上限和钱包门槛。 |
| **发行池** | 无固定价格——最终价格由结束时的总存款隐含确定 | 通过无上限实现有机价格发现。通过无门槛允许整个生态系统参与。基于时间的发行池防止抢购和抢跑，具有更开放/可访问的访问。如果需要可以实施上限和钱包门槛。 |
| **统一价格拍卖** | 基于时间的拍卖，用户以特定价格竞标特定数量的代币。出价可以是公开的或私密的。所有获胜者以清算价格获得代币。 | 特别是在大户/基金中促进价格发现。可以设置门槛或不设门槛。 |

### 示例用例：发行池

一个项目想要发行代币，其中：
1. 用户在发行池期间存入SOL
2. 存款期结束后，代币按存款比例分配
3. 收集的SOL发送到解锁桶供团队领取

Genesis使整个流程可以通过单一协调的链上系统实现。

## 核心概念

### Genesis账户

Genesis账户是您代币发行的中央协调者。当您初始化Genesis账户时，您正在创建：

- 带有元数据（名称、符号、URI）的新SPL代币
- 持有所有铸造代币的主账户
- 添加控制代币分配方式的"桶"的基础

将Genesis账户视为代币发行的"大脑"——它管理代币供应并协调所有不同的分配机制。

### 桶

桶是定义代币如何在您的发行中流入和流出的模块化组件。有两种类型：

**流入桶**从用户收集报价代币（通常是SOL）：
- **发行池桶**：在窗口期间收集存款，按比例分配代币

**流出桶**接收代币或报价代币：
- **解锁桶**：通过结束行为接收报价代币，供团队/财库领取

每个桶都有可配置的时间条件来控制其何时激活，以及在满足条件时执行的行为。

### 代币流

```
┌─────────────────────────────────────────────────────────────┐
│                     Genesis账户                              │
│                   (持有所有代币)                              │
└─────────────────────────────────────────────────────────────┘
                            │
                ┌───────────┴───────────┐
                ▼                       ▼
         ┌─────────────┐         ┌─────────────┐
         │  发行池     │────────▶│   解锁      │
         │    桶       │         │    桶       │
         │  (存款)     │         │  (财库)     │
         └─────────────┘         └─────────────┘
                │                       │
                ▼                       ▼
             用户                     团队
          存入SOL                   领取SOL
```

## 典型发行流程

以下是典型代币发行的进展方式：

### 1. 设置阶段
```
初始化Genesis账户
        ↓
添加流入桶（例如发行池）
        ↓
添加流出桶（例如用于财库的解锁桶）
        ↓
最终确定Genesis账户
```

### 2. 活动阶段
```
存款期：用户存入SOL
        ↓
存款期结束
        ↓
转换：执行结束行为（将SOL发送到解锁桶）
        ↓
领取期：用户按其存款权重比例领取代币
```

### 3. 发行后
```
团队从解锁桶领取SOL
        ↓
撤销铸币/冻结权限
```

## 撤销权限

发行完成后，您可以撤销代币的铸币和冻结权限。这向持有者和检查工具表明不能铸造更多代币且代币不能被冻结。

{% callout type="warning" %}
**权限撤销是不可逆的。** 一旦撤销，您将永远无法铸造额外的代币或冻结代币账户。只有在确定代币发行完成后才执行此操作。
{% /callout %}

```typescript
import { revokeMintAuthorityV2, revokeFreezeAuthorityV2 } from '@metaplex-foundation/genesis';

// 撤销铸币权限 - 永远不能再铸造代币
await revokeMintAuthorityV2(umi, {
  baseMint: baseMint.publicKey,
}).sendAndConfirm(umi);

// 撤销冻结权限 - 代币永远不能被冻结
await revokeFreezeAuthorityV2(umi, {
  baseMint: baseMint.publicKey,
}).sendAndConfirm(umi);
```

## 主要功能

### 基于时间的条件
每个桶都有基于绝对时间戳的可配置开始和结束条件。这允许您：
- 安排确切的发行时间
- 创建定时阶段（存款期、领取期等）
- 以精确的时间协调多个桶

### 结束行为
当桶的结束条件满足时执行的自动操作：
- **SendQuoteTokenPercentage**：将收集的SOL的一定百分比转移到另一个桶

## 安全注意事项

{% callout type="warning" %}
**最终确定是永久的**：一旦您最终确定Genesis账户，您就不能再添加更多的桶。在最终确定之前确保您的配置完整。
{% /callout %}

## 后续步骤

准备好构建您的代币发行了吗？从这里开始：

- [快速开始](/zh/smart-contracts/genesis/getting-started) - 了解发行流程并初始化您的第一个Genesis账户
- [JavaScript SDK](/zh/smart-contracts/genesis/sdk/javascript) - 安装和配置SDK

然后选择您的发行类型：

- [发行池](/zh/smart-contracts/genesis/launch-pool) - 带存款窗口的代币分配
- [预售](/zh/smart-contracts/genesis/presale) - 固定价格代币销售
- [统一价格拍卖](/zh/smart-contracts/genesis/uniform-price-auction) - 具有统一清算价格的基于时间的拍卖
