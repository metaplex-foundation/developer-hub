/**
 * Example: Full Control Mode
 *
 * Manually create, sign, send, and register a launch for maximum control over each step.
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js/.ts and .rs files, then run: node scripts/build-examples.js
 */

const umiSections = {
  "imports": "import {\n  createLaunch,\n  registerLaunch,\n} from '@metaplex-foundation/genesis'",
  "setup": "// Assumes umi and input from the Easy Mode example.",
  "main": "// Step 1: Get unsigned transactions from the API\nconst createResult = await createLaunch(umi, {}, input)\n\n// Step 2: Sign and send each transaction\nfor (const tx of createResult.transactions) {\n  const signedTx = await umi.identity.signTransaction(tx)\n  const signature = await umi.rpc.sendTransaction(signedTx, {\n    commitment: 'confirmed',\n    preflightCommitment: 'confirmed',\n  })\n  await umi.rpc.confirmTransaction(signature, {\n    commitment: 'confirmed',\n    strategy: {\n      type: 'blockhash',\n      ...createResult.blockhash,\n    },\n  })\n}\n\n// Step 3: Register the launch\nconst registerResult = await registerLaunch(umi, {}, {\n  genesisAccount: createResult.genesisAccount,\n  createLaunchInput: input,\n})\nconsole.log(`Launch live at: ${registerResult.launch.link}`)",
  "output": "",
  "full": "// [IMPORTS]\nimport {\n  createLaunch,\n  registerLaunch,\n} from '@metaplex-foundation/genesis'\n// [/IMPORTS]\n\n// [SETUP]\n// Assumes umi and input from the Easy Mode example.\n// [/SETUP]\n\n// [MAIN]\n// Step 1: Get unsigned transactions from the API\nconst createResult = await createLaunch(umi, {}, input)\n\n// Step 2: Sign and send each transaction\nfor (const tx of createResult.transactions) {\n  const signedTx = await umi.identity.signTransaction(tx)\n  const signature = await umi.rpc.sendTransaction(signedTx, {\n    commitment: 'confirmed',\n    preflightCommitment: 'confirmed',\n  })\n  await umi.rpc.confirmTransaction(signature, {\n    commitment: 'confirmed',\n    strategy: {\n      type: 'blockhash',\n      ...createResult.blockhash,\n    },\n  })\n}\n\n// Step 3: Register the launch\nconst registerResult = await registerLaunch(umi, {}, {\n  genesisAccount: createResult.genesisAccount,\n  createLaunchInput: input,\n})\nconsole.log(`Launch live at: ${registerResult.launch.link}`)\n// [/MAIN]\n\n// [OUTPUT]\n// [/OUTPUT]\n"
}

export const metadata = {
  title: "Full Control Mode",
  description: "Manually create, sign, send, and register a launch for maximum control over each step.",
  tags: ['genesis', 'api-client', 'full-control', 'advanced'],
}

export const examples = {
  umi: {
    framework: 'Umi',
    language: 'typescript',
    code: umiSections.full,
    sections: umiSections,
  },

}
