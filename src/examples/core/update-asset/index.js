/**
 * Example: update-asset
 *
 * 
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js and .rs files, then run: node scripts/build-examples.js
 */

const umiSections = {
  "imports": "import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { update } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'\nimport { publicKey } from '@metaplex-foundation/umi'",
  "setup": "const umi = createUmi('https://api.devnet.solana.com').use(mplCore())\nconst assetAddress = publicKey('AssetAddressHere...')",
  "main": "// Update an existing NFT asset's metadata\nconst result = await update(umi, {\n  asset: assetAddress,\n  name: 'Updated NFT Name',\n  uri: 'https://updated-example.com/metadata.json',\n}).sendAndConfirm(umi)",
  "output": "console.log('Asset updated successfully')",
  "full": "// [IMPORTS]\nimport { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { update } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'\nimport { publicKey } from '@metaplex-foundation/umi'\n// [/IMPORTS]\n\n// [SETUP]\nconst umi = createUmi('https://api.devnet.solana.com').use(mplCore())\nconst assetAddress = publicKey('AssetAddressHere...')\n// [/SETUP]\n\n// [MAIN]\n// Update an existing NFT asset's metadata\nconst result = await update(umi, {\n  asset: assetAddress,\n  name: 'Updated NFT Name',\n  uri: 'https://updated-example.com/metadata.json',\n}).sendAndConfirm(umi)\n// [/MAIN]\n\n// [OUTPUT]\nconsole.log('Asset updated successfully')\n// [/OUTPUT]\n"
}

const shankSections = {
  "imports": "use mpl_core::instructions::UpdateV1;\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};",
  "setup": "",
  "main": "// Asset address to update\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\n\n// Update an existing NFT asset's metadata\nlet update_ix = UpdateV1 {\n    asset,\n    new_name: Some(\"Updated NFT Name\".to_string()),\n    new_uri: Some(\"https://updated-example.com/metadata.json\".to_string()),\n    ..Default::default()\n};\n\nlet instruction = update_ix.instruction();",
  "output": "println!(\"Update instruction created\");",
  "full": "// [IMPORTS]\nuse mpl_core::instructions::UpdateV1;\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};\n// [/IMPORTS]\n\n// [MAIN]\n// Asset address to update\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\n\n// Update an existing NFT asset's metadata\nlet update_ix = UpdateV1 {\n    asset,\n    new_name: Some(\"Updated NFT Name\".to_string()),\n    new_uri: Some(\"https://updated-example.com/metadata.json\".to_string()),\n    ..Default::default()\n};\n\nlet instruction = update_ix.instruction();\n// [/MAIN]\n\n// [OUTPUT]\nprintln!(\"Update instruction created\");\n// [/OUTPUT]\n"
}

const anchorSections = {
  "imports": "use anchor_lang::prelude::*;",
  "setup": "",
  "main": "declare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod update_asset {\n    use super::*;\n\n    // Update an existing NFT asset's metadata\n    pub fn update(\n        ctx: Context<UpdateAsset>,\n        new_name: String,\n        new_uri: String,\n    ) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n\n        // Verify owner\n        require!(\n            asset.owner == ctx.accounts.owner.key(),\n            ErrorCode::Unauthorized\n        );\n\n        // Update metadata\n        asset.name = new_name;\n        asset.uri = new_uri;\n\n        msg!(\"Asset updated: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct UpdateAsset<'info> {\n    #[account(mut)]\n    pub asset: Account<'info, Asset>,\n    pub owner: Signer<'info>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}\n\n#[error_code]\npub enum ErrorCode {\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\n    Unauthorized,\n}",
  "output": "",
  "full": "// [IMPORTS]\nuse anchor_lang::prelude::*;\n// [/IMPORTS]\n\n// [MAIN]\ndeclare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod update_asset {\n    use super::*;\n\n    // Update an existing NFT asset's metadata\n    pub fn update(\n        ctx: Context<UpdateAsset>,\n        new_name: String,\n        new_uri: String,\n    ) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n\n        // Verify owner\n        require!(\n            asset.owner == ctx.accounts.owner.key(),\n            ErrorCode::Unauthorized\n        );\n\n        // Update metadata\n        asset.name = new_name;\n        asset.uri = new_uri;\n\n        msg!(\"Asset updated: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct UpdateAsset<'info> {\n    #[account(mut)]\n    pub asset: Account<'info, Asset>,\n    pub owner: Signer<'info>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}\n\n#[error_code]\npub enum ErrorCode {\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\n    Unauthorized,\n}\n// [/MAIN]\n"
}

const cliSections = {
  "imports": "",
  "setup": "",
  "main": "",
  "output": "",
  "full": "# Update an NFT using the Metaplex CLI\n\n# Update name and URI\nmplx core asset update <assetId> --name \"Updated NFT\" --uri \"https://example.com/new-metadata.json\"\n\n# Update with new image\nmplx core asset update <assetId> --image \"./new-image.png\"\n\n# Update with JSON metadata file\nmplx core asset update <assetId> --json \"./metadata.json\"\n\n# Update with both JSON and image\nmplx core asset update <assetId> --json \"./metadata.json\" --image \"./new-image.png\"\n"
}

export const metadata = {
  title: "update-asset",
  description: "",
  tags: [],
}

export const examples = {
  umi: {
    framework: 'Umi',
    language: 'javascript',
    code: umiSections.full,
    sections: umiSections,
  },

  shank: {
    framework: 'Shank',
    language: 'rust',
    code: shankSections.full,
    sections: shankSections,
  },

  anchor: {
    framework: 'Anchor',
    language: 'rust',
    code: anchorSections.full,
    sections: anchorSections,
  },

  cli: {
    framework: 'CLI',
    language: 'bash',
    code: cliSections.full,
    sections: cliSections,
  },

}
