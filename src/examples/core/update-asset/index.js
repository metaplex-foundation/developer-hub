/**
 * Example: update-asset
 *
 * 
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js and .rs files, then run: node scripts/build-examples.js
 */

const kitSections = {
  "imports": "import { update } from '@metaplex-foundation/mpl-core-kit'",
  "setup": "const client = createClient()",
  "main": "// Update an existing NFT asset's metadata\r\nconst result = await update({\r\n  asset: assetAddress,\r\n  name: 'Updated NFT Name',\r\n  uri: 'https://updated-example.com/metadata.json',\r\n})",
  "output": "console.log('Asset updated:', result)",
  "full": "// [IMPORTS]\r\nimport { update } from '@metaplex-foundation/mpl-core-kit'\r\n// [/IMPORTS]\r\n\r\n// [SETUP]\r\nconst client = createClient()\r\n// [/SETUP]\r\n\r\n// [MAIN]\r\n// Update an existing NFT asset's metadata\r\nconst result = await update({\r\n  asset: assetAddress,\r\n  name: 'Updated NFT Name',\r\n  uri: 'https://updated-example.com/metadata.json',\r\n})\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nconsole.log('Asset updated:', result)\r\n// [/OUTPUT]\r\n"
}

const umiSections = {
  "imports": "import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\r\nimport { update } from '@metaplex-foundation/mpl-core'\r\nimport { mplCore } from '@metaplex-foundation/mpl-core'\r\nimport { publicKey } from '@metaplex-foundation/umi'",
  "setup": "const umi = createUmi('https://api.devnet.solana.com').use(mplCore())\r\nconst assetAddress = publicKey('AssetAddressHere...')",
  "main": "// Update an existing NFT asset's metadata\r\nconst result = await update(umi, {\r\n  asset: assetAddress,\r\n  name: 'Updated NFT Name',\r\n  uri: 'https://updated-example.com/metadata.json',\r\n}).sendAndConfirm(umi)",
  "output": "console.log('Asset updated successfully')",
  "full": "// [IMPORTS]\r\nimport { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\r\nimport { update } from '@metaplex-foundation/mpl-core'\r\nimport { mplCore } from '@metaplex-foundation/mpl-core'\r\nimport { publicKey } from '@metaplex-foundation/umi'\r\n// [/IMPORTS]\r\n\r\n// [SETUP]\r\nconst umi = createUmi('https://api.devnet.solana.com').use(mplCore())\r\nconst assetAddress = publicKey('AssetAddressHere...')\r\n// [/SETUP]\r\n\r\n// [MAIN]\r\n// Update an existing NFT asset's metadata\r\nconst result = await update(umi, {\r\n  asset: assetAddress,\r\n  name: 'Updated NFT Name',\r\n  uri: 'https://updated-example.com/metadata.json',\r\n}).sendAndConfirm(umi)\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nconsole.log('Asset updated successfully')\r\n// [/OUTPUT]\r\n"
}

const shankSections = {
  "imports": "use mpl_core::instructions::UpdateV1;\r\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};",
  "setup": "",
  "main": "// Asset address to update\r\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\r\n\r\n// Update an existing NFT asset's metadata\r\nlet update_ix = UpdateV1 {\r\n    asset,\r\n    new_name: Some(\"Updated NFT Name\".to_string()),\r\n    new_uri: Some(\"https://updated-example.com/metadata.json\".to_string()),\r\n    ..Default::default()\r\n};\r\n\r\nlet instruction = update_ix.instruction();",
  "output": "println!(\"Update instruction created\");",
  "full": "// [IMPORTS]\r\nuse mpl_core::instructions::UpdateV1;\r\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};\r\n// [/IMPORTS]\r\n\r\n// [MAIN]\r\n// Asset address to update\r\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\r\n\r\n// Update an existing NFT asset's metadata\r\nlet update_ix = UpdateV1 {\r\n    asset,\r\n    new_name: Some(\"Updated NFT Name\".to_string()),\r\n    new_uri: Some(\"https://updated-example.com/metadata.json\".to_string()),\r\n    ..Default::default()\r\n};\r\n\r\nlet instruction = update_ix.instruction();\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nprintln!(\"Update instruction created\");\r\n// [/OUTPUT]\r\n"
}

const anchorSections = {
  "imports": "use anchor_lang::prelude::*;",
  "setup": "",
  "main": "declare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\r\n\r\n#[program]\r\npub mod update_asset {\r\n    use super::*;\r\n\r\n    // Update an existing NFT asset's metadata\r\n    pub fn update(\r\n        ctx: Context<UpdateAsset>,\r\n        new_name: String,\r\n        new_uri: String,\r\n    ) -> Result<()> {\r\n        let asset = &mut ctx.accounts.asset;\r\n\r\n        // Verify owner\r\n        require!(\r\n            asset.owner == ctx.accounts.owner.key(),\r\n            ErrorCode::Unauthorized\r\n        );\r\n\r\n        // Update metadata\r\n        asset.name = new_name;\r\n        asset.uri = new_uri;\r\n\r\n        msg!(\"Asset updated: {}\", asset.key());\r\n        Ok(())\r\n    }\r\n}\r\n\r\n#[derive(Accounts)]\r\npub struct UpdateAsset<'info> {\r\n    #[account(mut)]\r\n    pub asset: Account<'info, Asset>,\r\n    pub owner: Signer<'info>,\r\n}\r\n\r\n#[account]\r\npub struct Asset {\r\n    pub name: String,\r\n    pub uri: String,\r\n    pub owner: Pubkey,\r\n}\r\n\r\n#[error_code]\r\npub enum ErrorCode {\r\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\r\n    Unauthorized,\r\n}",
  "output": "",
  "full": "// [IMPORTS]\r\nuse anchor_lang::prelude::*;\r\n// [/IMPORTS]\r\n\r\n// [MAIN]\r\ndeclare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\r\n\r\n#[program]\r\npub mod update_asset {\r\n    use super::*;\r\n\r\n    // Update an existing NFT asset's metadata\r\n    pub fn update(\r\n        ctx: Context<UpdateAsset>,\r\n        new_name: String,\r\n        new_uri: String,\r\n    ) -> Result<()> {\r\n        let asset = &mut ctx.accounts.asset;\r\n\r\n        // Verify owner\r\n        require!(\r\n            asset.owner == ctx.accounts.owner.key(),\r\n            ErrorCode::Unauthorized\r\n        );\r\n\r\n        // Update metadata\r\n        asset.name = new_name;\r\n        asset.uri = new_uri;\r\n\r\n        msg!(\"Asset updated: {}\", asset.key());\r\n        Ok(())\r\n    }\r\n}\r\n\r\n#[derive(Accounts)]\r\npub struct UpdateAsset<'info> {\r\n    #[account(mut)]\r\n    pub asset: Account<'info, Asset>,\r\n    pub owner: Signer<'info>,\r\n}\r\n\r\n#[account]\r\npub struct Asset {\r\n    pub name: String,\r\n    pub uri: String,\r\n    pub owner: Pubkey,\r\n}\r\n\r\n#[error_code]\r\npub enum ErrorCode {\r\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\r\n    Unauthorized,\r\n}\r\n// [/MAIN]\r\n"
}

const cliSections = {
  "imports": "",
  "setup": "",
  "main": "",
  "output": "",
  "full": "# Update an NFT using the Metaplex CLI\r\n\r\n# Update name and URI\r\nmplx core asset update <assetId> --name \"Updated NFT\" --uri \"https://example.com/new-metadata.json\"\r\n\r\n# Update with new image\r\nmplx core asset update <assetId> --image \"./new-image.png\"\r\n\r\n# Update with JSON metadata file\r\nmplx core asset update <assetId> --json \"./metadata.json\"\r\n\r\n# Update with both JSON and image\r\nmplx core asset update <assetId> --json \"./metadata.json\" --image \"./new-image.png\"\r\n"
}

export const metadata = {
  title: "update-asset",
  description: "",
  tags: [],
}

export const examples = {
  kit: {
    framework: 'Kit',
    language: 'javascript',
    code: kitSections.full,
    sections: kitSections,
  },

  umi: {
    framework: 'Umi',
    language: 'javascript',
    code: umiSections.full,
    sections: umiSections,
  },

  shank: {
    framework: 'Shank',
    language: 'rust',
    code: shankSections.full,
    sections: shankSections,
  },

  anchor: {
    framework: 'Anchor',
    language: 'rust',
    code: anchorSections.full,
    sections: anchorSections,
  },

  cli: {
    framework: 'CLI',
    language: 'bash',
    code: cliSections.full,
    sections: cliSections,
  },

}
