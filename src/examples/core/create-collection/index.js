/**
 * Example: Create a Collection
 *
 * Basic example of creating a Collection with Core
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js and .rs files, then run: node scripts/build-examples.js
 */

const umiSections = {
  "imports": "import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\r\nimport { createCollection } from '@metaplex-foundation/mpl-core'\r\nimport { mplCore } from '@metaplex-foundation/mpl-core'\r\nimport { generateSigner } from '@metaplex-foundation/umi'",
  "setup": "// Initialize UMI\r\nconst umi = createUmi('https://api.devnet.solana.com')\r\n  .use(mplCore())",
  "main": "// Generate a new keypair for the collection\r\nconst collectionSigner = generateSigner(umi)\r\n\r\n// Create a new Collection\r\nawait createCollection(umi, {\r\n  collection: collectionSigner,\r\n  name: 'My Collection',\r\n  uri: 'https://example.com/collection.json',\r\n}).sendAndConfirm(umi)",
  "output": "console.log('Collection created:', collectionSigner.publicKey)",
  "full": "// [IMPORTS]\r\nimport { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\r\nimport { createCollection } from '@metaplex-foundation/mpl-core'\r\nimport { mplCore } from '@metaplex-foundation/mpl-core'\r\nimport { generateSigner } from '@metaplex-foundation/umi'\r\n// [/IMPORTS]\r\n\r\n// [SETUP]\r\n// Initialize UMI\r\nconst umi = createUmi('https://api.devnet.solana.com')\r\n  .use(mplCore())\r\n// [/SETUP]\r\n\r\n// [MAIN]\r\n// Generate a new keypair for the collection\r\nconst collectionSigner = generateSigner(umi)\r\n\r\n// Create a new Collection\r\nawait createCollection(umi, {\r\n  collection: collectionSigner,\r\n  name: 'My Collection',\r\n  uri: 'https://example.com/collection.json',\r\n}).sendAndConfirm(umi)\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nconsole.log('Collection created:', collectionSigner.publicKey)\r\n// [/OUTPUT]\r\n"
}

const shankSections = {
  "imports": "use mpl_core::instructions::CreateCollectionV1Builder;\r\nuse solana_sdk::signer::Signer;",
  "setup": "",
  "main": "// Create a new Collection\r\nlet create_collection_ix = CreateCollectionV1Builder::new()\r\n    .collection(collection.pubkey())\r\n    .payer(payer.pubkey())\r\n    .name(\"My Collection\".to_string())\r\n    .uri(\"https://example.com/collection.json\".to_string())\r\n    .instruction();",
  "output": "println!(\"Collection instruction created\");",
  "full": "// [IMPORTS]\r\nuse mpl_core::instructions::CreateCollectionV1Builder;\r\nuse solana_sdk::signer::Signer;\r\n// [/IMPORTS]\r\n\r\n// [MAIN]\r\n// Create a new Collection\r\nlet create_collection_ix = CreateCollectionV1Builder::new()\r\n    .collection(collection.pubkey())\r\n    .payer(payer.pubkey())\r\n    .name(\"My Collection\".to_string())\r\n    .uri(\"https://example.com/collection.json\".to_string())\r\n    .instruction();\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nprintln!(\"Collection instruction created\");\r\n// [/OUTPUT]\r\n"
}

const anchorSections = {
  "imports": "use anchor_lang::prelude::*;\r\nuse mpl_core::instructions::CreateCollectionV1CpiBuilder;",
  "setup": "",
  "main": "// Create a new Collection via CPI\r\nCreateCollectionV1CpiBuilder::new(&ctx.accounts.mpl_core_program)\r\n    .collection(&ctx.accounts.collection)\r\n    .payer(&ctx.accounts.payer)\r\n    .system_program(&ctx.accounts.system_program)\r\n    .name(\"My Collection\".to_string())\r\n    .uri(\"https://example.com/collection.json\".to_string())\r\n    .invoke()?;",
  "output": "msg!(\"Collection created: {}\", ctx.accounts.collection.key());",
  "full": "// [IMPORTS]\r\nuse anchor_lang::prelude::*;\r\nuse mpl_core::instructions::CreateCollectionV1CpiBuilder;\r\n// [/IMPORTS]\r\n\r\n// [MAIN]\r\n// Create a new Collection via CPI\r\nCreateCollectionV1CpiBuilder::new(&ctx.accounts.mpl_core_program)\r\n    .collection(&ctx.accounts.collection)\r\n    .payer(&ctx.accounts.payer)\r\n    .system_program(&ctx.accounts.system_program)\r\n    .name(\"My Collection\".to_string())\r\n    .uri(\"https://example.com/collection.json\".to_string())\r\n    .invoke()?;\r\n// [/MAIN]\r\n\r\n// [OUTPUT]\r\nmsg!(\"Collection created: {}\", ctx.accounts.collection.key());\r\n// [/OUTPUT]\r\n"
}

export const metadata = {
  title: "Create a Collection",
  description: "Basic example of creating a Collection with Core",
  tags: ['core', 'collection', 'create', 'beginner'],
}

export const examples = {
  umi: {
    framework: 'Umi',
    language: 'javascript',
    code: umiSections.full,
    sections: umiSections,
  },

  shank: {
    framework: 'Shank',
    language: 'rust',
    code: shankSections.full,
    sections: shankSections,
  },

  anchor: {
    framework: 'Anchor',
    language: 'rust',
    code: anchorSections.full,
    sections: anchorSections,
  },

}
