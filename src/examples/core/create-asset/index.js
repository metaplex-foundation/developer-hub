/**
 * Example: Create an Asset
 *
 * Basic example of creating an NFT asset with Core
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js and .rs files, then run: node scripts/build-examples.js
 */

const umiSections = {
  "imports": "import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { create } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'",
  "setup": "// Initialize UMI\nconst umi = createUmi('https://api.devnet.solana.com')\n  .use(mplCore())",
  "main": "// Create a new NFT asset\nconst asset = await create(umi, {\n  name: 'My NFT',\n  uri: 'https://example.com/metadata.json'\n}).sendAndConfirm(umi)",
  "output": "console.log('Asset created:', asset.publicKey)",
  "full": "// [IMPORTS]\nimport { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { create } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'\n// [/IMPORTS]\n\n// [SETUP]\n// Initialize UMI\nconst umi = createUmi('https://api.devnet.solana.com')\n  .use(mplCore())\n// [/SETUP]\n\n// [MAIN]\n// Create a new NFT asset\nconst asset = await create(umi, {\n  name: 'My NFT',\n  uri: 'https://example.com/metadata.json'\n}).sendAndConfirm(umi)\n// [/MAIN]\n\n// [OUTPUT]\nconsole.log('Asset created:', asset.publicKey)\n// [/OUTPUT]\n"
}

const shankSections = {
  "imports": "use mpl_core::instructions::CreateV1;\nuse solana_sdk::signer::Signer;",
  "setup": "",
  "main": "// Create a new NFT asset\nlet create_ix = CreateV1 {\n    name: \"My NFT\".to_string(),\n    uri: \"https://example.com/metadata.json\".to_string(),\n    ..Default::default()\n};\n\nlet instruction = create_ix.instruction();",
  "output": "println!(\"Asset instruction created\");",
  "full": "// [IMPORTS]\nuse mpl_core::instructions::CreateV1;\nuse solana_sdk::signer::Signer;\n// [/IMPORTS]\n\n// [MAIN]\n// Create a new NFT asset\nlet create_ix = CreateV1 {\n    name: \"My NFT\".to_string(),\n    uri: \"https://example.com/metadata.json\".to_string(),\n    ..Default::default()\n};\n\nlet instruction = create_ix.instruction();\n// [/MAIN]\n\n// [OUTPUT]\nprintln!(\"Asset instruction created\");\n// [/OUTPUT]\n"
}

const anchorSections = {
  "imports": "use anchor_lang::prelude::*;",
  "setup": "",
  "main": "declare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod create_asset {\n    use super::*;\n\n    // Create a new NFT asset\n    pub fn create(\n        ctx: Context<CreateAsset>,\n        name: String,\n        uri: String\n    ) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n        asset.name = name;\n        asset.uri = uri;\n        asset.owner = ctx.accounts.owner.key();\n\n        msg!(\"Asset created: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct CreateAsset<'info> {\n    #[account(init, payer = owner, space = 8 + 200)]\n    pub asset: Account<'info, Asset>,\n    #[account(mut)]\n    pub owner: Signer<'info>,\n    pub system_program: Program<'info, System>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}",
  "output": "",
  "full": "// [IMPORTS]\nuse anchor_lang::prelude::*;\n// [/IMPORTS]\n\n// [MAIN]\ndeclare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod create_asset {\n    use super::*;\n\n    // Create a new NFT asset\n    pub fn create(\n        ctx: Context<CreateAsset>,\n        name: String,\n        uri: String\n    ) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n        asset.name = name;\n        asset.uri = uri;\n        asset.owner = ctx.accounts.owner.key();\n\n        msg!(\"Asset created: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct CreateAsset<'info> {\n    #[account(init, payer = owner, space = 8 + 200)]\n    pub asset: Account<'info, Asset>,\n    #[account(mut)]\n    pub owner: Signer<'info>,\n    pub system_program: Program<'info, System>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}\n// [/MAIN]\n"
}

const cliSections = {
  "imports": "",
  "setup": "",
  "main": "",
  "output": "",
  "full": "# Create an NFT using the Metaplex CLI\n\n# Interactive wizard mode (recommended)\nmplx core asset create --wizard\n\n# Simple creation with name and URI\nmplx core asset create --name \"My NFT\" --uri \"https://example.com/metadata.json\"\n\n# Create with files (image + metadata)\nmplx core asset create --files --image \"./my-nft.png\" --json \"./metadata.json\"\n"
}

export const metadata = {
  title: "Create an Asset",
  description: "Basic example of creating an NFT asset with Core",
  tags: ['core', 'nft', 'create', 'beginner'],
}

export const examples = {
  umi: {
    framework: 'Umi',
    language: 'javascript',
    code: umiSections.full,
    sections: umiSections,
  },

  shank: {
    framework: 'Shank',
    language: 'rust',
    code: shankSections.full,
    sections: shankSections,
  },

  anchor: {
    framework: 'Anchor',
    language: 'rust',
    code: anchorSections.full,
    sections: anchorSections,
  },

  cli: {
    framework: 'CLI',
    language: 'bash',
    code: cliSections.full,
    sections: cliSections,
  },

}
