/**
 * Example: burn-asset
 *
 * 
 *
 * This file is auto-generated by scripts/build-examples.js
 * Edit the native .js and .rs files, then run: node scripts/build-examples.js
 */

const kitSections = {
  "imports": "import { burn } from '@metaplex-foundation/mpl-core-kit'",
  "setup": "const client = createClient()",
  "main": "// Permanently destroy/burn an NFT asset\nconst result = await burn({\n  asset: assetAddress,\n})",
  "output": "console.log('Asset burned:', result)",
  "full": "// [IMPORTS]\nimport { burn } from '@metaplex-foundation/mpl-core-kit'\n// [/IMPORTS]\n\n// [SETUP]\nconst client = createClient()\n// [/SETUP]\n\n// [MAIN]\n// Permanently destroy/burn an NFT asset\nconst result = await burn({\n  asset: assetAddress,\n})\n// [/MAIN]\n\n// [OUTPUT]\nconsole.log('Asset burned:', result)\n// [/OUTPUT]\n"
}

const umiSections = {
  "imports": "import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { burn } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'\nimport { publicKey } from '@metaplex-foundation/umi'",
  "setup": "const umi = createUmi('https://api.devnet.solana.com').use(mplCore())\nconst assetAddress = publicKey('AssetAddressHere...')",
  "main": "// Permanently destroy/burn an NFT asset\nconst result = await burn(umi, {\n  asset: assetAddress,\n}).sendAndConfirm(umi)",
  "output": "console.log('Asset burned successfully')",
  "full": "// [IMPORTS]\nimport { createUmi } from '@metaplex-foundation/umi-bundle-defaults'\nimport { burn } from '@metaplex-foundation/mpl-core'\nimport { mplCore } from '@metaplex-foundation/mpl-core'\nimport { publicKey } from '@metaplex-foundation/umi'\n// [/IMPORTS]\n\n// [SETUP]\nconst umi = createUmi('https://api.devnet.solana.com').use(mplCore())\nconst assetAddress = publicKey('AssetAddressHere...')\n// [/SETUP]\n\n// [MAIN]\n// Permanently destroy/burn an NFT asset\nconst result = await burn(umi, {\n  asset: assetAddress,\n}).sendAndConfirm(umi)\n// [/MAIN]\n\n// [OUTPUT]\nconsole.log('Asset burned successfully')\n// [/OUTPUT]\n"
}

const shankSections = {
  "imports": "use mpl_core::instructions::BurnV1;\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};",
  "setup": "",
  "main": "// Asset address to burn\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\n\n// Permanently destroy/burn an NFT asset\nlet burn_ix = BurnV1 {\n    asset,\n    ..Default::default()\n};\n\nlet instruction = burn_ix.instruction();",
  "output": "println!(\"Burn instruction created\");",
  "full": "// [IMPORTS]\nuse mpl_core::instructions::BurnV1;\nuse solana_sdk::{pubkey::Pubkey, signer::Signer};\n// [/IMPORTS]\n\n// [MAIN]\n// Asset address to burn\nlet asset = Pubkey::from_str(\"AssetAddressHere...\").unwrap();\n\n// Permanently destroy/burn an NFT asset\nlet burn_ix = BurnV1 {\n    asset,\n    ..Default::default()\n};\n\nlet instruction = burn_ix.instruction();\n// [/MAIN]\n\n// [OUTPUT]\nprintln!(\"Burn instruction created\");\n// [/OUTPUT]\n"
}

const anchorSections = {
  "imports": "use anchor_lang::prelude::*;",
  "setup": "",
  "main": "declare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod burn_asset {\n    use super::*;\n\n    // Permanently destroy/burn an NFT asset\n    pub fn burn(ctx: Context<BurnAsset>) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n\n        // Verify owner\n        require!(\n            asset.owner == ctx.accounts.owner.key(),\n            ErrorCode::Unauthorized\n        );\n\n        // Close the account to burn the asset\n        msg!(\"Asset burned: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct BurnAsset<'info> {\n    #[account(mut, close = owner)]\n    pub asset: Account<'info, Asset>,\n    pub owner: Signer<'info>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}\n\n#[error_code]\npub enum ErrorCode {\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\n    Unauthorized,\n}",
  "output": "",
  "full": "// [IMPORTS]\nuse anchor_lang::prelude::*;\n// [/IMPORTS]\n\n// [MAIN]\ndeclare_id!(\"Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS\");\n\n#[program]\npub mod burn_asset {\n    use super::*;\n\n    // Permanently destroy/burn an NFT asset\n    pub fn burn(ctx: Context<BurnAsset>) -> Result<()> {\n        let asset = &mut ctx.accounts.asset;\n\n        // Verify owner\n        require!(\n            asset.owner == ctx.accounts.owner.key(),\n            ErrorCode::Unauthorized\n        );\n\n        // Close the account to burn the asset\n        msg!(\"Asset burned: {}\", asset.key());\n        Ok(())\n    }\n}\n\n#[derive(Accounts)]\npub struct BurnAsset<'info> {\n    #[account(mut, close = owner)]\n    pub asset: Account<'info, Asset>,\n    pub owner: Signer<'info>,\n}\n\n#[account]\npub struct Asset {\n    pub name: String,\n    pub uri: String,\n    pub owner: Pubkey,\n}\n\n#[error_code]\npub enum ErrorCode {\n    #[msg(\"Unauthorized: You are not the owner of this asset\")]\n    Unauthorized,\n}\n// [/MAIN]\n"
}

export const metadata = {
  title: "burn-asset",
  description: "",
  tags: [],
}

export const examples = {
  kit: {
    framework: 'Kit',
    language: 'javascript',
    code: kitSections.full,
    sections: kitSections,
  },

  umi: {
    framework: 'Umi',
    language: 'javascript',
    code: umiSections.full,
    sections: umiSections,
  },

  shank: {
    framework: 'Shank',
    language: 'rust',
    code: shankSections.full,
    sections: shankSections,
  },

  anchor: {
    framework: 'Anchor',
    language: 'rust',
    code: anchorSections.full,
    sections: anchorSections,
  },
}
